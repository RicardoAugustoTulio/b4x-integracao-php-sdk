<?php

declare(strict_types=1);

/*
 * ApiB4CLib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

namespace ApiB4CLib\Controllers;

use ApiB4CLib\Exceptions\ApiException;
use ApiB4CLib\Models\AtualizaEntregaRequest;
use Core\Request\Parameters\BodyParam;
use CoreInterfaces\Core\Request\RequestMethod;

class EntregasDoPedidoController extends BaseController
{
    /**
     * Permite atualizar transportadora e dados de rastreio do pedido
     *
     * `PUT /pedidos/{codigo_pedido}/entregas/{codigo_entrega}`
     *
     * Requisição
     *
     * Parâmetros da Url
     *
     * | Nome | Descrição | Tipo | Obrigatório |
     * | --- | --- | --- | --- |
     * | codigo_pedido | código do pedido | int | Sim |
     * | codigo_entrega | código da entrega | int | Sim |
     *
     * _Body_
     *
     * | Nome | Descrição | Tipo | Obrigatório |
     * | --- | --- | --- | --- |
     * | rastreio | código de rastreio | string | não |
     * | data_envio | data do despacho da entrega | datetime | não |
     * | data_entrega | data da confirmação da entrega | datetime | não |
     * | operacao | operação associada a NF | string | não |
     * | numero | numero da NF | string | sim |
     * | data | data da NF | datetime | não |
     * | nf | chave de acesso a NF | string | sim |
     * | xml | xml da nota | longtext | não |
     * | url_download | url para download do PDF | string | não |
     *
     * _Exemplo_
     *
     * ``` json
     * {
     * "rastreio":"AA123456789BR",
     * "data_envio":"2020-01-01 10:27:030",
     * "data_entrega":"2020-01-01 10:27:030",
     * "operacao":"002",
     * "numero":"15659",
     * "nf":"NFe41200300915086000263550020003034231367245476",
     * "data":"2020-01-01 10:27:030",
     * "xml":"<?xml version='1.0' encoding='utf-8'?><nfeProc versao='4.00' xmlns='http://www.
     * portalfiscal.inf.br/nfe'><NFe xmlns='http://www.portalfiscal.inf.br/nfe'><infNFe versao='4.00'
     * Id='NFe41200300915086000263550020003034231367245476'><ide><cUF>41</cUF><cNF>36724547</cNF><natOp>VEN
     * DA MERCADORIA</natOp><mod>55</mod><serie>2</serie><nNF>303423</nNF><dhEmi>2020-03-13T00:00:00-03:
     * 00</dhEmi><tpNF>1</tpNF><idDest>2</idDest><cMunFG>4106902</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis>
     * <cDV>6</cDV><tpAmb>1</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>9</indPres><procEmi>0</
     * procEmi><verProc>19.4.1</verProc></ide><emit><CNPJ>00915086000263</CNPJ><xNome>DISTRIBUIDORA
     * FERRAMENTAS KENNEDY LTDA</xNome><xFant>KENNEDY CD-PR</xFant><enderEmit><xLgr>AV JUSCELINO KUBITSCHEK
     * DE OLIVEIRA</xLgr><nro>651</nro><xBairro>CIDADE
     * INDUSTRIAL</xBairro><cMun>4106902</cMun><xMun>CURITIBA</xMun><UF>PR</UF><CEP>81280140</CEP><cPais>10
     * 58</cPais><xPais>BRASIL</xPais><fone>4133141880</fone></enderEmit><IE>9073061781</IE><IEST>816016488
     * 116</IEST><CRT>3</CRT></emit><dest><CNPJ>61374161000130</CNPJ><xNome>BAUMER S.A.
     * </xNome><enderDest><xLgr>AVENIDA PREFEITO ANTONIO TAVARES LEITE</xLgr><nro>181</nro><xBairro>DISTR
     * INDL I JOSE MARANGO</xBairro><cMun>3530805</cMun><xMun>MOGI
     * MIRIM</xMun><UF>SP</UF><CEP>13803330</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>191938057670
     * </fone></enderDest><indIEDest>1</indIEDest><IE>456056910118</IE></dest><entrega><CNPJ>61374161000130
     * </CNPJ><xLgr>AVENIDA PREFEITO ANTONIO TAVARES LEITE</xLgr><nro>181</nro><xBairro>DISTR INDL I JOSE
     * MARANGO</xBairro><cMun>3530805</cMun><xMun>MOGI MIRIM</xMun><UF>SP</UF></entrega><det
     * nItem='1'><prod><cProd>5919</cProd><cEAN>SEM GTIN</cEAN><xProd>GRAXA AZUL UNILIT BLUE-2 (USO
     * ROLAMENTOS/MANCAIS) 10KG
     * INGRA</xProd><NCM>27101999</NCM><CEST>0600801</CEST><CFOP>6102</CFOP><uCom>PC</uCom><qCom>1.
     * 0000</qCom><vUnCom>296.46</vUnCom><vProd>296.46</vProd><cEANTrib>SEM
     * GTIN</cEANTrib><uTrib>PC</uTrib><qTrib>1.0000</qTrib><vUnTrib>296.46</vUnTrib><vFrete>32.
     * 14</vFrete><indTot>1</indTot><xPed>379185</xPed></prod><imposto><vTotTrib>90.
     * 92</vTotTrib><ICMS><ICMS00><orig>0</orig><CST>00</CST><modBC>0</modBC><vBC>328.60</vBC><pICMS>12.
     * 00</pICMS><vICMS>39.43</vICMS></ICMS00></ICMS><PIS><PISAliq><CST>01</CST><vBC>328.60</vBC><pPIS>1.
     * 65</pPIS><vPIS>5.42</vPIS></PISAliq></PIS><COFINS><COFINSAliq><CST>01</CST><vBC>328.
     * 60</vBC><pCOFINS>7.60</pCOFINS><vCOFINS>24.
     * 97</vCOFINS></COFINSAliq></COFINS></imposto><infAdProd>Trib aprox R$: 37,56 Federal, R$: 53,36
     * Estadual</infAdProd></det><total><ICMSTot><vBC>328.60</vBC><vICMS>39.
     * 43</vICMS><vICMSDeson>0</vICMSDeson><vFCPUFDest>0.00</vFCPUFDest><vICMSUFDest>0.
     * 00</vICMSUFDest><vICMSUFRemet>0.00</vICMSUFRemet><vFCP>0</vFCP><vBCST>0</vBCST><vST>0.
     * 00</vST><vFCPST>0</vFCPST><vFCPSTRet>0</vFCPSTRet><vProd>296.46</vProd><vFrete>32.
     * 14</vFrete><vSeg>0</vSeg><vDesc>0</vDesc><vII>0</vII><vIPI>0</vIPI><vIPIDevol>0</vIPIDevol><vPIS>5.
     * 42</vPIS><vCOFINS>24.97</vCOFINS><vOutro>0</vOutro><vNF>328.60</vNF><vTotTrib>90.
     * 92</vTotTrib></ICMSTot></total><transp><modFrete>0</modFrete><transporta><CNPJ>14754749000139</CNPJ>
     * <xNome>FHM ENCOMENDAS EXPRESS LTDA - 415230</xNome><IE>9058091801</IE><xEnder>AV DAS AMERICAS,
     * 753</xEnder><xMun>SAO JOSE DOS PINHAIS</xMun><UF>PR</UF></transporta><vol><qVol>1</qVol><pesoL>11.
     * 000</pesoL><pesoB>11.000</pesoB></vol></transp><cobr><fat><nFat>1026031</nFat><vOrig>328.
     * 60</vOrig><vDesc>0.00</vDesc><vLiq>328.60</vLiq></fat><dup><nDup>001</nDup><dVenc>2020-04-
     * 12</dVenc><vDup>328.60</vDup></dup></cobr><pag><detPag><tPag>15</tPag><vPag>328.
     * 60</vPag></detPag></pag><infAdic><infCpl>PEDIDO: 1026031 - ORDEM DE COMPRA: 379185@@@@@L END. DE
     * ENTREGA: AVENIDA PREFEITO ANTONIO TAVARES LEITE, 181 -  - DISTR INDL I JOSE MARANGO - MOGI MIRIM -
     * SP @@@@@LConferente: DAVID - Vendedor: VENDAS SITE - Trib aprox R$: 37,56 Federal, R$: 53,36
     * Estadual FONTE
     * IBPT</infCpl></infAdic><compra><xPed>379185</xPed></compra><infRespTec><CNPJ>00447041000120</CNPJ><x
     * Contato>INVENTTI SOLUCOES EMPRESARIAIS LTDA</xContato><email>suporte@inventti.com.
     * br</email><fone>4730387700</fone></infRespTec></infNFe><Signature xmlns='http://www.w3.
     * org/2000/09/xmldsig#'><SignedInfo><CanonicalizationMethod Algorithm='http://www.w3.org/TR/2001/REC-
     * xml-c14n-20010315' /><SignatureMethod Algorithm='http://www.w3.org/2000/09/xmldsig#rsa-sha1'
     * /><Reference URI='#NFe41200300915086000263550020003034231367245476'><Transforms><Transform
     * Algorithm='http://www.w3.org/2000/09/xmldsig#enveloped-signature' /><Transform Algorithm='http://www.
     * w3.org/TR/2001/REC-xml-c14n-20010315' /></Transforms><DigestMethod Algorithm='http://www.w3.
     * org/2000/09/xmldsig#sha1'
     * /><DigestValue>B3fbzDcgdppAJj3z0OSz26oQnlU=</DigestValue></Reference></SignedInfo><SignatureValue>Pe
     * oeoOCi9N4gHC7u2fHmJGJcBl3BYsnmFM1aqKz6UySboMylEclmDeA+HC3BvQynx0VTqcT7eN7JbuxSvDIaVxqFKnGVGQAJAfHYhL
     * HxiG23VpCfJTeVhAucOhOt4k5ZLYOfkDFBIDw0IdDdXUYtfr0r6Y0kY+zm1119Kvmk5PPeaM9EB5jlCKQyV8GO85yXV9SRUUsnei
     * LycNN3985bvmh5b3PoMh2jW6izUa5/psshQdfx595dmEfIU6XZyD/pS74J6aTtrEQDzmC/3TaTBKJB8P6UrA7BWbglpJdHXD9VVC
     * ZPSvSpQuU2VjXilzOPombgeOBpirbTlOxAzPaunQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIIA
     * DCCBeigAwIBAgIQewGVXXTgD3DmKP1BObRAoDANBgkqhkiG9w0BAQsFADB4MQswCQYDVQQGEwJCUjETMBEGA1UEChMKSUNQLUJyY
     * XNpbDE2MDQGA1UECxMtU2VjcmV0YXJpYSBkYSBSZWNlaXRhIEZlZGVyYWwgZG8gQnJhc2lsIC0gUkZCMRwwGgYDVQQDExNBQyBDZ
     * XJ0aXNpZ24gUkZCIEc1MB4XDTIwMDEyODE0MTExNVoXDTIxMDEyNzE0MTExNVowge4xCzAJBgNVBAYTAkJSMRMwEQYDVQQKDApJQ
     * 1AtQnJhc2lsMQswCQYDVQQIDAJQUjERMA8GA1UEBwwIQ3VyaXRpYmExNjA0BgNVBAsMLVNlY3JldGFyaWEgZGEgUmVjZWl0YSBGZ
     * WRlcmFsIGRvIEJyYXNpbCAtIFJGQjEWMBQGA1UECwwNUkZCIGUtQ05QSiBBMTEXMBUGA1UECwwOMTU0MDA3ODMwMDAxNzgxQTA/B
     * gNVBAMMOERJU1RSSUJVSURPUkEgREUgRkVSUkFNRU5UQVMgS0VOTkVEWSBMVERBOjAwOTE1MDg2MDAwMTgyMIIBIjANBgkqhkiG9
     * w0BAQEFAAOCAQ8AMIIBCgKCAQEA7Pg+CjNLn1uft3BMRftBd7rR3xFizPTT4kNBQba0j5uRI3qhgXtIDZ5HYaJTNyDOXhBsePDP+
     * wRjZpkyRz7nhvomXQiGsBp0mmmQTXRRrQLIMtvw8c/hsx6Dvui0NUq6QPhvgeGfJ9km6Lw5xqvqHeB3s/QBpnE8FxGiJl9xr0dJ2
     * L8SWn0/ga6raCFoIV5nMTXngh2C432nAoPvuRcmOky+L4XFwt/crFgZbwMbKb6jPPWMJXLgZoGIwFPIudAO3zYBilo88GwAzYFjp
     * 9QR/Xms+QLN+L0jxQ31+BH9gAgWUwamF1ShQy2W4400hVV0qSp4U3Q/YfoU4wlM2h9vxQIDAQABo4IDDTCCAwkwgbwGA1UdEQSBt
     * DCBsaA+BgVgTAEDBKA1BDMxMjA2MTk2NjY0ODQxMjYwOTc4MDAwMDAwMDAwMDAwMDAwMDAwMzYzMjAyMTRTRVNQUFKgHwYFYEwBA
     * wKgFgQUTUFVUk8gQU5UT05JTyBTQUxJTkegGQYFYEwBAwOgEAQOMDA5MTUwODYwMDAxODKgFwYFYEwBAwegDgQMMDAwMDAwMDAwM
     * DAwgRp2aW5pY2l1cy1maXNAbmVncmFvLmNvbS5icjAJBgNVHRMEAjAAMB8GA1UdIwQYMBaAFFN9f52+0WHQILran+OJpxNzWM1CM
     * H8GA1UdIAR4MHYwdAYGYEwBAgEMMGowaAYIKwYBBQUHAgEWXGh0dHA6Ly9pY3AtYnJhc2lsLmNlcnRpc2lnbi5jb20uYnIvcmVwb
     * 3NpdG9yaW8vZHBjL0FDX0NlcnRpc2lnbl9SRkIvRFBDX0FDX0NlcnRpc2lnbl9SRkIucGRmMIG8BgNVHR8EgbQwgbEwV6BVoFOGU
     * Wh0dHA6Ly9pY3AtYnJhc2lsLmNlcnRpc2lnbi5jb20uYnIvcmVwb3NpdG9yaW8vbGNyL0FDQ2VydGlzaWduUkZCRzUvTGF0ZXN0Q
     * 1JMLmNybDBWoFSgUoZQaHR0cDovL2ljcC1icmFzaWwub3V0cmFsY3IuY29tLmJyL3JlcG9zaXRvcmlvL2xjci9BQ0NlcnRpc2lnb
     * lJGQkc1L0xhdGVzdENSTC5jcmwwDgYDVR0PAQH/BAQDAgXgMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDCBrAYIKwYBB
     * QUHAQEEgZ8wgZwwXwYIKwYBBQUHMAKGU2h0dHA6Ly9pY3AtYnJhc2lsLmNlcnRpc2lnbi5jb20uYnIvcmVwb3NpdG9yaW8vY2Vyd
     * GlmaWNhZG9zL0FDX0NlcnRpc2lnbl9SRkJfRzUucDdjMDkGCCsGAQUFBzABhi1odHRwOi8vb2NzcC1hYy1jZXJ0aXNpZ24tcmZiL
     * mNlcnRpc2lnbi5jb20uYnIwDQYJKoZIhvcNAQELBQADggIBAB0FCZeGTBaiOdJ+ZygzsZa20sCQG48eF2VCyOz1+xZYlbSRkJTZ9
     * wv5taXjv5KIoSP0KHgP6xP9JGhRoCh07zGj6hoKnXkn4E6Y6DDTnT1moy2E7NCfaXx7Yd/SLEOQpwG4A4CGgedsVot2J0snlO33Q
     * tsJ3NtiFH55BfktGJH84oiLxsjtc+jg1rzaaJzv/C322/r2Oy6JVmabiMKKHs+txg6GQgOONRd9lSJvwH4G+Z1OJMk6zQHaq725Q
     * fg/SDx9Y71vp4ckHOEcRBEKV29vW7IEy3S7LKZk5NAQJEuudP+1tQWmeEpknkkeTjc1eIrHAKSZzUSSqyrWGA+dRJShWqKtmF2Kz
     * +2crWrs9quZjnAWFfqBgjJGhfCGuM/fy2mkriw/4Yp1bTjpPlh1tSu/iDSD5JYKJIQMR+doDUp8HL+/Ey/Gs+34+yNgUKoninRsh
     * wrQwMNacfUJrhTrzFHtujAx/rfdi7m5fWWzO8Gfh/5vK6VRlD+iVqCWMbXa3y60crzxbJVjmtWzaMLG9j2Zi8qGzDt3MQd/oPqaJ
     * EK8ogFEl0NZ2jRE9CPA2MlGTXv4SIxYUGGxZtQNALpqSpU5N60LnbAa++pWiVhQMY3WxHPSGWT5dZROZWci5c9lTCohfSi5mLZ8+
     * ZHWkh0WwKcqPCPOp2XzNY4q9vbV47Qh</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe
     * versao='4.00' xmlns='http://www.portalfiscal.inf.br/nfe'><infProt
     * Id='ID141200049650709'><tpAmb>1</tpAmb><verAplic>4.
     * 00</verAplic><chNFe>41200300915086000263550020003034231367245476</chNFe><dhRecbto>2020-03-13T14:10:
     * 47-03:
     * 00</dhRecbto><nProt>141200049650709</nProt><digVal>B3fbzDcgdppAJj3z0OSz26oQnlU=</digVal><cStat>100</
     * cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>",
     * "url_download":"https://downloadnota.com.br/id=123"
     * }
     *
     * ```
     *
     * _Resposta_
     *
     * | HTTP Status Code | Descricao | Resposta | json |
     * | --- | --- | --- | --- |
     * | 200 | Entrega atualizada com sucesso | mensagem | {"Atualizado com sucesso"} |
     * | 4xx | Requisição inválida | mensagem | {"Entrega nao encontrado"} |
     * | 500 | Erro desconhecido. | mensagem | {"erro deconhecido contate o suporte: [suporte@b4commerce.
     * com.br](mailto:suporte@b4commerce.com.br) "} |
     *
     * @param AtualizaEntregaRequest $body
     *
     * @return void Response from the API call
     *
     * @throws ApiException Thrown if API call fails
     */
    public function atualizaEntrega(AtualizaEntregaRequest $body): void
    {
        $_reqBuilder = $this->requestBuilder(RequestMethod::PUT, '/pedidos/10074/entregas/10074')
            ->parameters(BodyParam::init($body));

        $this->execute($_reqBuilder);
    }

    /**
     * Lista todas as entregas do pedido
     * _Parâmetros da Url_
     *
     * `_#GET /pedidos/{codigo_pedido}/entregas/_`
     *
     * | nome | descricao | tipo |
     * | --- | --- | --- |
     * | codigo_entrega | codigo de identificão da entrega | int |
     * | status | situacao da entrega | string |
     * | codigo_filial | codigo da filial que está atendendo a entrega | int |
     * | forma_entrega | codigo da forma de entrega/transportadora selecionada para o pedido | int |
     * | descricao_forma_entrega | nome da transportadora selecionada para o pedido | string |
     * | prazo | prazo de entrega | int |
     * | prazo_em | prazo informado em dias ou horas | string |
     * | previsao_entrega | data prevista para a entrega | datetime |
     * | data_envio | data do envio da entrega | datetime |
     * | data_entrega | data da entrega | datetime |
     * | rastreio | código de rastreio da entrega | string |
     * | produtos | lista de itens da entrega | lista de itens da \* [entrega](#produtos-entrega) |
     * | notas_fiscais | lista de notas cadastradas no entrega | lista de \* [notas](#api-notas-fiscais-da-
     * entrega) |
     *
     * _Exemplo_
     *
     * ``` json
     * "entregas": [{
     * "codigo_entrega": "593763",
     * "status": "nao-iniciada",
     * "codigo_filial": 2,
     * "forma_entrega": "78505",
     * "descricao_forma_entrega": "(78505)BATEL TRANSPORTE LOGISTICA",
     * "prazo": "3",
     * "prazo_em": "dias",
     * "previsao_entrega": null,
     * "data_envio": null,
     * "data_entrega": null,
     * "valor": "0.00",
     * "rastreio": null,
     * "produtos": [{
     * "sku": "25968",
     * "quantidade": 1,
     * "valor": 79.99,
     * "sku_associado": "6115",
     * "codigo_entrega": "12346334"
     * },
     * {
     * "sku": "1968",
     * "quantidade": 3,
     * "valor": 19.99,
     * "sku_associado": "115",
     * }
     * ],
     * "notas_fiscais": [
     * {
     * "tipo": null,
     * "numero": null,
     * "chave": null,
     * "data_emissao": null,
     * "xml": null,
     * "codigo_fornecedor": null,
     * "url_download": null
     * }
     * ]
     * },
     * {
     * "codigo_entrega": "593764",
     * "status": "separacao",
     * "codigo_filial": 13,
     * "forma_entrega": "14",
     * "descricao_forma_entrega": "(78505)Correios PAC",
     * "prazo": "3",
     * "prazo_em": "dias",
     * "previsao_entrega": null,
     * "data_envio": null,
     * "data_entrega": null,
     * "valor": "12.00",
     * "rastreio": "XYZ1234EE",
     * "produtos": [{
     * "sku": "1",
     * "quantidade": 1,
     * "valor": 79.99,
     * "sku_associado": "61"
     * }
     * ],
     * "notas_fiscais": [
     * {
     * "tipo": null,
     * "numero": null,
     * "chave": null,
     * "data_emissao": null,
     * "xml": null,
     * "codigo_fornecedor": null,
     * "url_download": null
     * }
     * ]
     * }
     * ]
     *
     * ```
     *
     * @return void Response from the API call
     *
     * @throws ApiException Thrown if API call fails
     */
    public function listarEntregasDoPedido(): void
    {
        $_reqBuilder = $this->requestBuilder(RequestMethod::GET, '/pedidos/357297/entregas');

        $this->execute($_reqBuilder);
    }
}
